<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registrar Empleado</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- üé® Estilos propios -->
  <style>
    /* ===== Paleta editable ===== */
    :root{
      --campo-bg:#ffffff71;
      --campo-bg-focus:#d4dbe4;
      --campo-border:#a7a07a;
      --campo-border-focus:#ebd99e;
      --campo-text:#1e2246;
      --campo-placeholder:#ff0000;
    }

    form .form-control,form .form-select{
      background:var(--campo-bg);
      border:1px solid var(--campo-border);
      color:var(--campo-text);
      caret-color:#000;
    }
    form .form-control::placeholder{color:var(--campo-placeholder);opacity:1}
    form .form-control:focus,form .form-select:focus{
      background:var(--campo-bg-focus);
      border-color:var(--campo-border-focus);
      box-shadow:0 0 0 .15rem rgba(52,96,255,.25);
      color:var(--campo-text);
      caret-color:#000;
    }

    /* ===== est√©tica general ===== */
    body{
      min-height:100vh;
      background:linear-gradient(135deg, #297373 0%, #FE7F2D 100%);
      display:flex;align-items:center;justify-content:center;
      font-family:system-ui,sans-serif;
    }
    .card{
      border-radius:1.2rem;
      backdrop-filter:blur(6px);
      background:rgba(255,255,255,.60);
      box-shadow:0 0 15px rgba(0,0,0,.12);
    }
    h2{font-weight:600}.form-label{font-weight:500}
    .btn-primary{background:#0066ff;border-color:#0066ff}
    .btn-primary:hover{background:#0051d4}

    /* ===== contenedores de secci√≥n ===== */
    .seccion{
      border:3px solid rgba(48, 25, 0, 0.644);
      border-radius:0.5rem;
      padding:0rem 1rem 0.5rem;
      margin-bottom:-0.5rem;
      background:rgba(255,255,255,.0);
    }
    .seccion legend{
      font-weight:600;
      padding:-1rem 0.5rem;
      width:auto;
    }
    legend {
    float: left;
    width: 100%;
    padding: 0.8px;
    margin-bottom: -0.1rem;
    font-size: calc(1.275rem + .3vw);
    line-height: inherit;
    }
  </style>
</head>

<body>
  <div class="card shadow-sm w-100" style="max-width:960px;">
    <div class="card-body p-4">
      <!-- Header con informaci√≥n del usuario -->
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Registrar nuevo empleado</h2>
        <div id="userInfo"></div>
      </div>

      <form id="formEmpleado" class="row g-3">

        <!-- ---------- Informaci√≥n personal ---------- -->
        <fieldset class="seccion">
          <legend>Informaci√≥n personal</legend>
          <div class="row g-3">

            <div class="col-md-4">
              <label class="form-label">DNI</label>
              <input type="text" class="form-control" id="DNI" maxlength="12" required>
            </div>

            <div class="col-md-4">
              <label class="form-label">Nombres</label>
              <input type="text" class="form-control" id="Nombres" required>
            </div>

            <div class="col-md-4">
              <label class="form-label">Apellido paterno</label>
              <input type="text" class="form-control" id="ApellidoPaterno" required>
            </div>

            <div class="col-md-4">
              <label class="form-label">Apellido materno</label>
              <input type="text" class="form-control" id="ApellidoMaterno">
            </div>

          </div>
        </fieldset>

        <!-- ---------- Registro del empleado ---------- -->
        <fieldset class="seccion">
          <legend>Registro del empleado</legend>
          <div class="row g-3">

            <div class="col-md-4">
              <label class="form-label">Fecha de contrataci√≥n</label>
              <input type="date" class="form-control" id="FechaContratacion" required>
            </div>

            <div class="col-md-4">
              <label class="form-label">Campa√±a</label>
              <select id="Campa√±aID" class="form-select" required></select>
            </div>

            <div class="col-md-4">
              <label class="form-label">Cargo</label>
              <select id="CargoID" class="form-select" required></select>
            </div>

          </div>
        </fieldset>

        <!-- ---------- Registro horario ---------- -->
        <fieldset class="seccion">
          <legend>Registro horario</legend>
          <div class="row g-3">

            <div class="col-md-4">
              <label class="form-label">Jornada</label>
              <select id="JornadaID" class="form-select" required></select>
            </div>

            <div class="col-md-4">
              <label class="form-label">Turno</label>
              <select id="Turno" class="form-select" disabled required>
                <option value="" selected hidden>-- Elegir --</option>
              </select>
            </div>

            <div class="col-md-4">
              <label class="form-label">Modalidad</label>
              <select id="ModalidadID" class="form-select" required></select>
            </div>

            <div class="col-md-4">
              <label class="form-label">Horario</label>
              <select id="grupoBase" class="form-select" required></select>
            </div>

            <div class="col-md-4">
              <label class="form-label">Descanso</label>
              <select id="GrupoHorarioID" class="form-select" required></select>
            </div>

          </div>
        </fieldset>

        <!-- ---------- DNIs de referencia ---------- -->
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Supervisor DNI</label>
            <input list="listaSupervisores" class="form-control" id="SupervisorDNI">
            <datalist id="listaSupervisores"></datalist>
          </div>

          <div class="col-md-4">
            <label class="form-label">Coordinador DNI</label>
            <input list="listaCoordinadores" class="form-control" id="CoordinadorDNI">
            <datalist id="listaCoordinadores"></datalist>
          </div>

          <div class="col-md-4">
            <label class="form-label">Jefe DNI</label>
            <input list="listaJefes" class="form-control" id="JefeDNI">
            <datalist id="listaJefes"></datalist>
          </div>
        </div>

        <!-- ---------- bot√≥n & alertas ---------- -->
        <div class="d-flex justify-content-between align-items-center mt-3">
          <a href="/" class="btn btn-outline-dark">‚Üê Volver al Dashboard</a>
          <button type="submit" class="btn btn-primary px-4">Guardar empleado</button>
        </div>
        <div id="msg" class="alert mt-4 d-none w-100"></div>

      </form>
    </div>
  </div>

  <script src="auth.js"></script>
  <script src="registrar-empleado.js"></script>
  <script>
    // Verificar autenticaci√≥n al cargar la p√°gina
    document.addEventListener('DOMContentLoaded', () => {
      auth.checkAuthImmediate();
    });
  </script>
</body>
</html> 